/*! amazeui-plugin-modal-1.0.0.js 2016-10-02 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){a.fn.addModal=function(b){function c(c){h=new Image,h.src=c,h.onload=function(){h=d(h),a(".am-modal-bd").css({width:h.width,marginLeft:-h.width/2,top:b.top}),g.width=h.width,g.height=h.height,context.drawImage(this,0,0,g.width,g.height)}}function d(a){for(;a.width>e*b.scale||a.height>f*b.scale;)a.width*=.9,a.height*=.9;return a}var e=a(window).innerWidth(),f=a(window).innerHeight(),g=a("#am-modal-cvs")[0],h={};context=g.getContext("2d");var i={src:"",scale:.85,text:"this is image's text",top:"50px"};b=a.extend(i,b),a(".am-modal").width(e).height(f),a(this).click(function(){a(".am-modal-text").text(b.text),a(".am-modal").fadeIn(),a(".am-modal-mask").fadeIn(),c(b.src)}),a(".am-modal-mask,.am-modal-close").click(function(){a(".am-modal-bd").addClass("am-modal-fade"),a(".am-modal-fade").css({animation:"modalFade 0.3s ease"}),a(".am-modal-mask").fadeOut(),setTimeout(function(){a(".am-modal-bd").css({animation:"modalShow 0.2s ease-out"}).removeClass("am-modal-fade"),a(".am-modal")[0].style.display="none"},290)})}});